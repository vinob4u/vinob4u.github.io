<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <title>Descriptive Studies</title>
    <meta name="viewport" content="width=device-width, user-scalable=1" />
    <link rel="stylesheet" href="style_main.css">
</head>

<body>
<header id="header"></header>
<article>
    <h1> Descriptive Studies </h1>
    <div id="mainTableTdDiv">
        <table id="mainTable" style="width: 100%; border: 1">
            <tbody>
            <tr>
                <td><input id="ProportionAbsPrecision" name="mainTableTd" value="Proportion with Absolute Precision" type="radio" onclick="PrAbsPShow()" ontouch="PrAbsPShow()">
                    <label for="ProportionAbsPrecision"><br>Proportion with Absolute Precision</label><br>
                </td>
                <td><input id="ProportionRelPrecision" name="mainTableTd" value="Proportion with Relative Precision" type="radio" onclick="PrRelPShow()" ontouch="PrRelPShow()">
                    <label for="ProportionRelPrecision"><br>Proportion with Relative Precision</label><br>
                </td>
            </tr>
            <tr>
                <td><input id="MeanAbsPrecision" name="mainTableTd" value="Mean with Absolute Precision" type="radio" onclick="MAbsPShow()" ontouch="MAbsPShow()">
                    <label for="MeanAbsPrecision"><br>Mean with Absolute Precision</label><br>
                </td>
                <td><input id="MeanRelPrecision" name="mainTableTd" value="Mean with Relative Precision" type="radio" onclick="MRelPShow()" ontouch="MRelPShow()">
                    <label for="MeanRelPrecision"><br>Mean with Relative Precision</label><br>
                </td>
            </tr>
            </tbody>
        </table>
    </div>
    <br>
    <div id="labelPrevalence" hidden>
        <label for="prevalence">Expected prevalence: </label>
        <input hidden id="prevalence" name="Prevalence" placeholder="12" required="" type="number" step="any"> %
    </div>
    <div id="labelSD" hidden>
        <label for="SD">Expected Standard Deviation: </label>
        <input hidden id="SD" name="Prevalence" placeholder="SD" required="" type="number" step="any">
    </div>
    <br>
    <label id="labelCF" for="CF" hidden> Confidence Level: </label>
    <select id="CF" class="CF" hidden>
        <option>80%</option>
        <option>85%</option>
        <option>90%</option>
        <option selected="selected">95%</option>
        <option>99%</option>
        <option>99.5%</option>
        <option>99.9%</option>
    </select>
    <br><br>
    <div  id="labelAbsPrecision" hidden>
        <label for="AbsPrecision">Absolute precision: </label>
        <input hidden id="AbsPrecision" name="d" placeholder="Absolute Precision" required="" type="number" step="any"><span id="percent1">%</span>
        <br><br>
    </div>
    <div hidden id="labelRelPrecision">
        <label for="RelPrecision">Relative precision: </label>
        <input hidden id="RelPrecision" name="e" placeholder="Relative Precision" required="" type="number" step="any">%
        <br><br>
    </div>
    <div id="labelMean" hidden>
        <label for="mean">Expected mean: </label>
        <input hidden id="mean" name="Mean" placeholder="Mean" required="" type="number" step="any">
        <br><br>
    </div>
    <button id="Calculate" onclick="calculate()" ontouch="calculate()"> Calculate </button>
    <br><br>
    <div id= "resultDiv"><span>Result for infinte population:</span>
        <span id="result"> Result will appear here once you enter parameters. </span><br><br>
        <span> <input type="checkbox" id="finiteCheckbox" style="margin-right: 2vw;"><label for="finiteCheckbox">I have finite population </label></span><br>
        <span> <input type="checkbox" id="nonResponseRateCheckbox" style="margin-right: 2vw;"><label for="nonResponseRateCheckbox">Adjust for anticipated non-response rate</label></span><br>
        <div style=" display: none;" id="finitePopSizeDiv">
            <label for="popSize">Total population: </label>
            <input id="popSize" name="popSizeName" placeholder="Total population size" required="" type="number" step="any">
        </div><br>
        <div style="display: none;" id="nonResponseRateDiv">
            <label for="nonResponseRate">Anticipated non-response rate: </label>
            <input id="nonResponseRate" name="nonResponseRateName" placeholder="Non-response rate" required="" type="number" step="any"> %
        </div>
        <button id="finiteCalculate"  style="display: none;" onclick="finiteCalculate()" ontouch="finiteCalculate()">Calculate for finite population</button><br><br>
        <span id="finiteResultSpan"> </span><span id="finiteResult" style="display: none;"> Result for finite population will appear here</span>
        <script>
            document.getElementById("finiteCheckbox").addEventListener("click", () => {
                if(document.getElementById("finiteCheckbox").checked){
                    document.getElementById("finitePopSizeDiv").style.display = "block";
                    if(document.getElementById("nonResponseRateCheckbox").checked){
                        document.getElementById("finiteCalculate").textContent= "Calculate for finite population with non-response rate";
                    } else {
                        document.getElementById("finiteCalculate").textContent= "Calculate for finite population";
                    }
                    document.getElementById("finiteCalculate").style.display= "inline-block";
                } else {
                    document.getElementById("finitePopSizeDiv").style.display = "none";
                    if(document.getElementById("nonResponseRateCheckbox").checked){
                        document.getElementById("finiteCalculate").textContent= "Calculate with non-response rate";
                        document.getElementById("finiteCalculate").style.display= "inline-block";
                    } else {
                        document.getElementById("finiteCalculate").style.display= "none";
                    }
                }
            })
            document.getElementById("finiteCheckbox").addEventListener("touch", () => {
                if(document.getElementById("finiteCheckbox").checked){
                    document.getElementById("finitePopSizeDiv").style.display = "block";
                    if(document.getElementById("nonResponseRateCheckbox").checked){
                        document.getElementById("finiteCalculate").textContent= "Calculate for finite population with non-response rate";
                    } else {
                        document.getElementById("finiteCalculate").textContent= "Calculate for finite population";
                    }
                    document.getElementById("finiteCalculate").style.display= "inline-block";
                } else {
                    document.getElementById("finitePopSizeDiv").style.display = "none";
                    if(document.getElementById("nonResponseRateCheckbox").checked){
                        document.getElementById("finiteCalculate").textContent= "Calculate with non-response rate";
                        document.getElementById("finiteCalculate").style.display= "inline-block";
                    } else {
                        document.getElementById("finiteCalculate").style.display= "none";
                    }
                }
            })
            document.getElementById("nonResponseRateCheckbox").addEventListener("click", () => {
                if(document.getElementById("nonResponseRateCheckbox").checked){
                    document.getElementById("nonResponseRateDiv").style.display = "block";
                    if(document.getElementById("finiteCheckbox").checked){
                        document.getElementById("finiteCalculate").textContent= "Calculate for finite population with non-response rate";
                    } else {
                        document.getElementById("finiteCalculate").textContent= "Calculate with non-response rate";
                    }
                    document.getElementById("finiteCalculate").style.display= "inline-block";
                } else {
                    document.getElementById("nonResponseRateDiv").style.display = "none";
                    if(document.getElementById("finiteCheckbox").checked){
                        document.getElementById("finiteCalculate").textContent= "Calculate for finite population";
                        document.getElementById("finiteCalculate").style.display= "inline-block";
                    } else {
                        document.getElementById("finiteCalculate").style.display= "none";
                    }
                }
            })
            document.getElementById("nonResponseRateCheckbox").addEventListener("touch", () => {
                if(document.getElementById("nonResponseRateCheckbox").checked){
                    document.getElementById("nonResponseRateDiv").style.display = "block";
                    if(document.getElementById("finiteCheckbox").checked){
                        document.getElementById("finiteCalculate").textContent= "Calculate for finite population with non-response rate";
                    } else {
                        document.getElementById("finiteCalculate").textContent= "Calculate with non-response rate";
                    }
                    document.getElementById("finiteCalculate").style.display= "inline-block";
                } else {
                    document.getElementById("nonResponseRateDiv").style.display = "none";
                    if(document.getElementById("finiteCheckbox").checked){
                        document.getElementById("finiteCalculate").textContent= "Calculate for finite population";
                        document.getElementById("finiteCalculate").style.display= "inline-block";
                    } else {
                        document.getElementById("finiteCalculate").style.display= "none";
                    }
                }
            })
        </script>
    </div><br>
    <br>
    <details hidden id="variableshower">
        <summary>&nbsp;&nbsp;Formula</summary>
        <div id="variables">
            <img id="formulaImage" src="">
            <div id="variableHint"></div>
            <img src="./nFinite.png">
            <div>
                N<sub>finite</sub> = Sample size for a finite population size <br>
                n<sub>âˆž</sub> = Sample size for infinite population size <br>
                N = Population size
            </div>
            <img src="./nAdjusted.png">
            <div>
                N<sub>adjusted</sub> = Sample size after considering non-response rate<br>
                N = Sample size with 0% non-response rate<br>
            </div>
        </div>
    </details><br>
    <button id="strtagn" onclick="startAgain()">Start Again</button>
</article>
</body>
<script src="header.js"></script>
<script src="SampleSizeCalculation.js"></script>
</html>