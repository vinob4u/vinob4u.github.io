<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <title>Analytical Studies</title>
    <meta name="viewport" content="width=device-width, user-scalable=1">
    <link rel="stylesheet" href="style_main.css">
</head>

<body >
<header id="header"></header>
<article>
    <h1>Analytical Studies</h1>
    <div style="text-align: center;">Select type of study:
        <select id="TypeOfStudy" required="required" onchange="typeOfStudy()">
            <option value="none" class="noneSelected" disabled="disabled" selected="selected">Please select</option>
            <option value="CrossSectional">Analytical Cross Sectional Study</option>
            <option value="CaseControl">Case Control Study</option>
            <option value="Cohort/RCT">Cohort Study/RCT</option>
        </select>
    </div>
    <p id="z1aby2p" hidden> Alpha Error =
        <select id="z1aby2" class="CF">
            <option>80%</option>
            <option>85%</option>
            <option>90%</option>
            <option selected="selected">95%</option>
            <option>99%</option>
            <option>99.5%</option>
            <option>99.9%</option>
        </select>
    </p>
    <p id="z1-bp" hidden> Power =
        <select id="z1-b" class="CF">
            <option selected="selected">80%</option>
            <option>90%</option>
            <option>95%</option>
            <option>99%</option>
        </select>
    </p>
    <p hidden id="ORP1P2p">Please select parameters you have:
        <select id="ORP1P2Select" onchange="ORP1P2Selected()">
            <option value="none" class="noneSelected" disabled="disabled" selected="selected">Please select</option>
            <option value="ODP1">Odds ratio and P2*</option>
            <option value="P1P2">P1* and P2*</option>
        </select>
    </p>
    <p hidden id="p1*p">P<sub>1</sub>* = <input id="P1*" placeholder="0.50" type="number" step="any"></p>
    <p hidden id="p2*p">P<sub>2</sub>* = <input id="P2*" placeholder="0.40" type="number" step="any"></p>
    <p hidden id="RRP1P2p">Please select parameters you have:
        <select id="RRP1P2Select" onchange="RRP1P2Selected()">
            <option value="none" class="noneSelected" disabled="disabled" selected="selected">Please select</option>
            <option value="ODP1">Relative Risk and P2</option>
            <option value="P1P2">P1 and P2</option>
        </select>
    </p>
    <p hidden id="ORp">Odds Ratio = <input id="OR" placeholder="2" type="number" step="any"></p>
    <p hidden id="p1p">P<sub>1 </sub>= <input id="P1" placeholder="0.50" required="required" type="number" step="any"> </p>
    <p hidden id="p2p">P<sub>2 </sub>= <input id="P2" placeholder="0.40" required="required" type="number" step="any"></p>
    <p hidden id="RRp">Relative Risk = <input id="RR" placeholder="Relative Risk" type="number" step="any"></p>
    <button id="Calculate" onclick="calculate()" ontouchstart="calculate()">Calculate</button><br><br>
    <div id= "resultDiv"><span>Result for infinte population:</span>
        <span id="result"> Result will appear here once you enter parameters. </span><span id="resultTail"></span><br><br>
        <span> <input type="checkbox" id="finiteCheckbox" style="margin-right: 2vw;"><label for="finiteCheckbox">I have finite population </label></span><br>
        <span> <input type="checkbox" id="nonResponseRateCheckbox" style="margin-right: 2vw;"><label for="nonResponseRateCheckbox">Adjust for anticipated non-response rate</label></span><br>
        <div style=" display: none;" id="finitePopSizeDiv">
            <label for="popSize">Total population: </label>
            <input id="popSize" name="popSizeName" placeholder="Total population size" required="" type="number" step="any">
        </div><br>
        <div style="display: none;" id="nonResponseRateDiv">
            <label for="nonResponseRate">Anticipated non-response rate: </label>
            <input id="nonResponseRate" name="nonResponseRateName" placeholder="Non-response rate" required="" type="number" step="any"> %
        </div>
        <button id="finiteCalculate"  style="display: none;" onclick="finiteCalculate()" ontouchstart="finiteCalculate()">Calculate for finite population</button><br><br>
        <span id="finiteResultSpan"> </span><span id="finiteResult" style="display: none;"> Result for finite population will appear here</span>
        <script>
            document.getElementById("finiteCheckbox").addEventListener("click", () => {
                if(document.getElementById("finiteCheckbox").checked){
                    document.getElementById("finitePopSizeDiv").style.display = "block";
                    if(document.getElementById("nonResponseRateCheckbox").checked){
                        document.getElementById("finiteCalculate").textContent= "Calculate for finite population with non-response rate";
                    } else {
                        document.getElementById("finiteCalculate").textContent= "Calculate for finite population";
                    }
                    document.getElementById("finiteCalculate").style.display= "inline-block";
                } else {
                    document.getElementById("finitePopSizeDiv").style.display = "none";
                    if(document.getElementById("nonResponseRateCheckbox").checked){
                        document.getElementById("finiteCalculate").textContent= "Calculate with non-response rate";
                        document.getElementById("finiteCalculate").style.display= "inline-block";
                    } else {
                        document.getElementById("finiteCalculate").style.display= "none";
                    }
                }
            })
            document.getElementById("finiteCheckbox").addEventListener("touchstart", () => {
                if(document.getElementById("finiteCheckbox").checked){
                    document.getElementById("finitePopSizeDiv").style.display = "block";
                    if(document.getElementById("nonResponseRateCheckbox").checked){
                        document.getElementById("finiteCalculate").textContent= "Calculate for finite population with non-response rate";
                    } else {
                        document.getElementById("finiteCalculate").textContent= "Calculate for finite population";
                    }
                    document.getElementById("finiteCalculate").style.display= "inline-block";
                } else {
                    document.getElementById("finitePopSizeDiv").style.display = "none";
                    if(document.getElementById("nonResponseRateCheckbox").checked){
                        document.getElementById("finiteCalculate").textContent= "Calculate with non-response rate";
                        document.getElementById("finiteCalculate").style.display= "inline-block";
                    } else {
                        document.getElementById("finiteCalculate").style.display= "none";
                    }
                }
            })
            document.getElementById("nonResponseRateCheckbox").addEventListener("click", () => {
                if(document.getElementById("nonResponseRateCheckbox").checked){
                    document.getElementById("nonResponseRateDiv").style.display = "block";
                    if(document.getElementById("finiteCheckbox").checked){
                        document.getElementById("finiteCalculate").textContent= "Calculate for finite population with non-response rate";
                    } else {
                        document.getElementById("finiteCalculate").textContent= "Calculate with non-response rate";
                    }
                    document.getElementById("finiteCalculate").style.display= "inline-block";
                } else {
                    document.getElementById("nonResponseRateDiv").style.display = "none";
                    if(document.getElementById("finiteCheckbox").checked){
                        document.getElementById("finiteCalculate").textContent= "Calculate for finite population";
                        document.getElementById("finiteCalculate").style.display= "inline-block";
                    } else {
                        document.getElementById("finiteCalculate").style.display= "none";
                    }
                }
            })
            document.getElementById("nonResponseRateCheckbox").addEventListener("touchstart", () => {
                if(document.getElementById("nonResponseRateCheckbox").checked){
                    document.getElementById("nonResponseRateDiv").style.display = "block";
                    if(document.getElementById("finiteCheckbox").checked){
                        document.getElementById("finiteCalculate").textContent= "Calculate for finite population with non-response rate";
                    } else {
                        document.getElementById("finiteCalculate").textContent= "Calculate with non-response rate";
                    }
                    document.getElementById("finiteCalculate").style.display= "inline-block";
                } else {
                    document.getElementById("nonResponseRateDiv").style.display = "none";
                    if(document.getElementById("finiteCheckbox").checked){
                        document.getElementById("finiteCalculate").textContent= "Calculate for finite population";
                        document.getElementById("finiteCalculate").style.display= "inline-block";
                    } else {
                        document.getElementById("finiteCalculate").style.display= "none";
                    }
                }
            })
        </script>
    </div><br><br><br>
    <details hidden id="variableshower">
        <summary>Know what the parameters stand for</summary>
        <div id="variables">
            <ul hidden id="CrossSectionalVariables">
                <li> P<sub>1</sub> = Proportion in the first group</li>
                <li> P<sub>2</sub> = Proportion in the second group</li>
                <li> α = Significance level </li>
                <li> 1-β = Power</li>
                <li> <img src="crossSect.png"></li>
            </ul>
            <ul hidden id="CaseControlVariables">
                <li> P<sub>2</sub>* = Probability of the exposure given disease is absent</li>
                <li> P<sub>1</sub>* = Probability of the exposure given disease is present</li>
                <li> α = Significance level </li>
                <li> 1-β = Power</li>
                <li> <img src="caseControl.png"></li>
            </ul>
            <ul hidden id="CohortVariables">
                <li> P<sub>2</sub> = Proportion(incidence) of disease present in the unexposed group</li>
                <li> P<sub>2</sub> = Proportion(incidence) of disease present in the exposed group</li>
                <li> α = Significance level </li>
                <li> 1-β = Power</li>
                <li> <img src="cohort.png"></li>
            </ul>
            <img src="./nFinite.png">
            <div>
                N<sub>finite</sub> = Sample size for a finite population size <br>
                n<sub>∞</sub> = Sample size for infinite population size <br>
                N = Population size
            </div>
            <img src="./nAdjusted.png">
            <div>
                N<sub>adjusted</sub> = Sample size after considering non-response rate<br>
                N = Sample size with 0% non-response rate<br>
            </div>
        </div>
    </details>
    <br>
    <button onclick="startAgain()" ontouchstart="startAgain()" id="strtagn">Start Again</button><br>
</article>
</body>
<script src="header.js"></script>
<script src="Formula_Hypothesis.js"></script>
</html>